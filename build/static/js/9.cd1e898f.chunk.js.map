{"version":3,"sources":["components/List.js","pages/History.js"],"names":["Img","styled","img","ComponentList","observer","HistoryStore","useStores","useEffect","reset","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","label","src","attributes","url","alt","filename","target","href","id","tip","History","List"],"mappings":"0VAOA,IAAMA,E,MAAMC,EAAOC,IAAV,KAoDMC,EA9COC,aAAS,WAAO,IAC5BC,EAAiBC,cAAjBD,aAWR,OANAE,qBAAU,WAER,OAAO,WACLF,EAAaG,WAEd,IAED,8BACE,cAAC,IAAD,CACEC,aAAa,EACbC,UAAW,EACXC,SAdW,WACfN,EAAaO,QAcTC,SAAUR,EAAaS,WAAaT,EAAaQ,QACjDE,WAAW,EALb,SAOE,cAAC,IAAD,CACEC,WAAYX,EAAaY,KACzBC,WAAY,SAAAC,GAAI,OACd,cAAC,IAAKC,KAAN,UACE,eAAC,IAAD,WACE,cAAC,IAAaA,KAAd,CAAmBC,MAAM,eAAzB,SAA8B,cAACrB,EAAD,CAAKsB,IAAKH,EAAKI,WAAWC,IAAID,WAAWC,IAAKC,IAAI,OAChF,cAAC,IAAaL,KAAd,CAAmBC,MAAM,2BAAzB,SAAiCF,EAAKI,WAAWG,WACjD,cAAC,IAAaN,KAAd,CAAmBC,MAAM,2BAAzB,SAAgC,mBAAGM,OAAO,SAASC,KAAMT,EAAKI,WAAWC,IAAID,WAAWC,IAAxD,SAA8DL,EAAKI,WAAWC,IAAID,WAAWC,YAJjHL,EAAKU,KAHzB,SAaIxB,EAAaS,WAAaT,EAAaQ,SACrC,8BACE,cAAC,IAAD,CAAMiB,IAAI,kCCrCXC,UATf,WACE,OACE,qCACE,0DACA,cAACC,EAAD","file":"static/js/9.cd1e898f.chunk.js","sourcesContent":["import React, { useEffect } from 'react'\nimport { observer } from 'mobx-react'\nimport { useStores } from '../stores'\nimport { List, Spin, Descriptions } from 'antd'\nimport InfiniteScroll from 'react-infinite-scroller/dist/InfiniteScroll';\nimport styled from 'styled-components'\n\nconst Img = styled.img`\n  height: 100px;\n  object-fit: contain;\n  border: 1px solid #eee;\n`\n\nconst ComponentList = observer(() => {\n  const { HistoryStore } = useStores()\n\n  const loadMore = () => {\n    HistoryStore.find()\n  }\n  useEffect(() => {\n    // 卸载时调用\n    return () => {\n      HistoryStore.reset()\n    }\n  }, [])\n  return (\n    <div>\n      <InfiniteScroll\n        initialLoad={true}\n        pageStart={0}\n        loadMore={loadMore}\n        hasMore={!HistoryStore.isLoading && HistoryStore.hasMore}\n        useWindow={true}\n      >\n        <List\n          dataSource={HistoryStore.list}\n          renderItem={item => (\n            <List.Item key={item.id}>\n              <Descriptions>\n                <Descriptions.Item label=\"图片\"><Img src={item.attributes.url.attributes.url} alt=\"\" /></Descriptions.Item>\n                <Descriptions.Item label=\"图片名称\">{item.attributes.filename}</Descriptions.Item>\n                <Descriptions.Item label=\"线上地址\"><a target=\"_blank\" href={item.attributes.url.attributes.url}>{item.attributes.url.attributes.url}</a></Descriptions.Item>\n              </Descriptions>\n            </List.Item>\n          )}\n        >\n          {\n            HistoryStore.isLoading && HistoryStore.hasMore && (\n              <div>\n                <Spin tip=\"加载中\" />\n              </div>\n            )\n          }\n        </List>\n      </InfiniteScroll>\n    </div>\n  )\n})\n\nexport default ComponentList","import React from 'react'\nimport List from '../components/List'\n\nfunction History() {\n  return (\n    <>\n      <h1>上传历史</h1>\n      <List />\n    </>\n  )\n}\n\nexport default History"],"sourceRoot":""}