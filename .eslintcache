[{"/Users/maolu/Desktop/react-epic/src/index.js":"1","/Users/maolu/Desktop/react-epic/src/App.js":"2","/Users/maolu/Desktop/react-epic/src/reportWebVitals.js":"3","/Users/maolu/Desktop/react-epic/src/components/Header.js":"4","/Users/maolu/Desktop/react-epic/src/components/Footer.js":"5","/Users/maolu/Desktop/react-epic/src/pages/Home.js":"6","/Users/maolu/Desktop/react-epic/src/pages/History.js":"7","/Users/maolu/Desktop/react-epic/src/pages/About.js":"8","/Users/maolu/Desktop/react-epic/src/components/Loading.js":"9","/Users/maolu/Desktop/react-epic/src/pages/Login.js":"10","/Users/maolu/Desktop/react-epic/src/stores/index.js":"11","/Users/maolu/Desktop/react-epic/src/stores/auth.js":"12","/Users/maolu/Desktop/react-epic/src/pages/Register.js":"13","/Users/maolu/Desktop/react-epic/src/models/index.js":"14","/Users/maolu/Desktop/react-epic/src/stores/user.js":"15","/Users/maolu/Desktop/react-epic/src/components/Uploader.js":"16","/Users/maolu/Desktop/react-epic/src/components/List.js":"17","/Users/maolu/Desktop/react-epic/src/components/Tips.js":"18","/Users/maolu/Desktop/react-epic/src/stores/image.js":"19","/Users/maolu/Desktop/react-epic/src/stores/history.js":"20"},{"size":325,"mtime":1612321991757,"results":"21","hashOfConfig":"22"},{"size":1241,"mtime":1612236067379,"results":"23","hashOfConfig":"22"},{"size":362,"mtime":1611891540211,"results":"24","hashOfConfig":"22"},{"size":1966,"mtime":1612239905100,"results":"25","hashOfConfig":"22"},{"size":301,"mtime":1612226511695,"results":"26","hashOfConfig":"22"},{"size":292,"mtime":1612320224297,"results":"27","hashOfConfig":"22"},{"size":184,"mtime":1612320224297,"results":"28","hashOfConfig":"22"},{"size":183,"mtime":1612320224296,"results":"29","hashOfConfig":"22"},{"size":114,"mtime":1612056052019,"results":"30","hashOfConfig":"22"},{"size":2530,"mtime":1612239126510,"results":"31","hashOfConfig":"22"},{"size":450,"mtime":1612320224304,"results":"32","hashOfConfig":"22"},{"size":1493,"mtime":1612320224298,"results":"33","hashOfConfig":"22"},{"size":3145,"mtime":1612239028252,"results":"34","hashOfConfig":"22"},{"size":1629,"mtime":1612320224295,"results":"35","hashOfConfig":"22"},{"size":438,"mtime":1612237735222,"results":"36","hashOfConfig":"22"},{"size":3798,"mtime":1612320224294,"results":"37","hashOfConfig":"22"},{"size":1739,"mtime":1612320796899,"results":"38","hashOfConfig":"22"},{"size":492,"mtime":1612320224293,"results":"39","hashOfConfig":"22"},{"size":1190,"mtime":1612320224301,"results":"40","hashOfConfig":"22"},{"size":1033,"mtime":1612320224299,"results":"41","hashOfConfig":"22"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"ntgxp6",{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"44"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"76","usedDeprecatedRules":"44"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"79","usedDeprecatedRules":"44"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},"/Users/maolu/Desktop/react-epic/src/index.js",[],["86","87"],"/Users/maolu/Desktop/react-epic/src/App.js",[],"/Users/maolu/Desktop/react-epic/src/reportWebVitals.js",[],"/Users/maolu/Desktop/react-epic/src/components/Header.js",[],"/Users/maolu/Desktop/react-epic/src/components/Footer.js",[],"/Users/maolu/Desktop/react-epic/src/pages/Home.js",[],"/Users/maolu/Desktop/react-epic/src/pages/History.js",[],"/Users/maolu/Desktop/react-epic/src/pages/About.js",[],"/Users/maolu/Desktop/react-epic/src/components/Loading.js",[],"/Users/maolu/Desktop/react-epic/src/pages/Login.js",[],"/Users/maolu/Desktop/react-epic/src/stores/index.js",["88"],"import React, { createContext, useContext } from 'react'\nimport AuthStore from './auth'\nimport UserStore from './user'\nimport ImageStore from './image'\nimport HistoryStore from './history'\n\nconst context = createContext({\n  AuthStore,\n  UserStore,\n  ImageStore,\n  HistoryStore\n})\n\nwindow.store = {\n  AuthStore,\n  UserStore,\n  ImageStore\n}\n\n// 调用useStores方法 就会解构出context中的东西\nexport const useStores = () => useContext(context)","/Users/maolu/Desktop/react-epic/src/stores/auth.js",[],"/Users/maolu/Desktop/react-epic/src/pages/Register.js",[],"/Users/maolu/Desktop/react-epic/src/models/index.js",[],"/Users/maolu/Desktop/react-epic/src/stores/user.js",[],"/Users/maolu/Desktop/react-epic/src/components/Uploader.js",["89","90"],"import React, { useRef } from 'react'\nimport { observer, useLocalStore } from 'mobx-react'\nimport { useStores } from '../stores'\nimport { message, Upload, Descriptions, Spin } from 'antd'\nimport { InboxOutlined } from '@ant-design/icons'\nimport styled from 'styled-components'\n\n\nconst { Dragger } = Upload\n\nconst ImageShow = styled.div`\n  margin-top: 30px;\n  border: 1px dashed #ccc;\n  padding: 20px;\n`\n\nconst H1 = styled.h1`\n  margin: 20px 0;\n  text-align: center;\n`\n\nconst Image = styled.img`\n  max-width: 300px;\n`\n\nconst ComponentUploader = observer(() => {\n\n  const { ImageStore, UserStore } = useStores()\n  const ref1 = useRef()\n  const ref2 = useRef()\n\n  const store = useLocalStore(() => ({\n    width: null,\n    setWidth(width) {\n      store.width = width\n    },\n    get widthStr() {\n      return store.width ? `/w/${store.width}` : ''\n    },\n    height: null,\n    setHeight(height) {\n      store.height = height\n    },\n    get heightStr() {\n      return store.height ? `/h/${store.height}` : ''\n    },\n    get fullStr() {\n      return ImageStore.serverFile.attributes.url.attributes.url + '?imageView2/0' + store.widthStr + store.heightStr\n    }\n  }))\n\n  const bindWidthChange = () => {\n    store.setWidth(ref1.current.value)\n  }\n\n  const bindHeightChange = () => {\n    store.setHeight(ref2.current.value)\n  }\n\n  const props = {\n    // 不显示列表\n    showUploadList: false,\n    beforeUpload: file => {\n      ImageStore.setFile(file)\n      ImageStore.setFilename(file.name)\n      if (UserStore.currentUser === null) {\n        message.warning('请先登录再上传！')\n        return false\n      }\n      window.file = file\n      if (!/(svg$)|(png$)|(jpg$)|(jpeg$)|(gif$)/ig.test(file.type)) {\n        message.error('只能上传svg/png/jpg/jpeg/gif格式的图片')\n        return false\n      }\n      if (file.size > 1024 * 1024) {\n        message.error('图片最大只能1M')\n        return false\n      }\n      ImageStore.upload().then((serverFile) => {\n        console.log('上传成功')\n        console.log(serverFile)\n      }).catch(() => {\n        console.log('上传失败')\n      })\n      return false\n    }\n  }\n\n  return (\n    <div>\n      <Spin tip=\"上传中\" spinning={ImageStore.isLoading}>\n        <Dragger {...props}>\n          <p className=\"ant-upload-drag-icon\">\n            <InboxOutlined />\n          </p>\n          <p className=\"ant-upload-text\">点击或者拖拽上传图片</p>\n          <p className=\"ant-upload-hint\">\n            仅支持.svg/.png/.jpg/.jpeg/.gif格式的图片 图片最大1M\n        </p>\n        </Dragger>\n      </Spin>\n      {\n        ImageStore.serverFile ? <ImageShow>\n          <H1>上传结果</H1>\n          <Descriptions title=\"上传图片信息展示\" bordered>\n            <Descriptions.Item label=\"线上地址\" span={3}><a target=\"_blank\" href={ImageStore.serverFile.attributes.url.attributes.url}>{ImageStore.serverFile.attributes.url.attributes.url}</a></Descriptions.Item>\n            <Descriptions.Item label=\"文件名\" span={3}>{ImageStore.filename}</Descriptions.Item>\n            <Descriptions.Item label=\"图片预览\" span={3}><Image src={ImageStore.serverFile.attributes.url.attributes.url} alt=\"\" /></Descriptions.Item>\n            <Descriptions.Item label=\"更多尺寸\" span={3}>\n              <input ref={ref1} onChange={bindWidthChange} placeholder=\"最大宽度(可选)\" />\n              <input ref={ref2} onChange={bindHeightChange} placeholder=\"最大高度(可选)\" />\n            </Descriptions.Item>\n            <Descriptions.Item label=\"设置大小后线上地址\" span={3}>\n              <a target=\"_blank\" href={store.fullStr} alt=\"\">{store.fullStr}</a>\n            </Descriptions.Item>\n          </Descriptions>\n        </ImageShow> : null\n      }\n    </div >\n  )\n})\n\nexport default ComponentUploader","/Users/maolu/Desktop/react-epic/src/components/List.js",["91","92"],"import React, { useEffect } from 'react'\nimport { observer } from 'mobx-react'\nimport { useStores } from '../stores'\nimport { List, Spin, Descriptions } from 'antd'\nimport InfiniteScroll from 'react-infinite-scroller/dist/InfiniteScroll';\nimport styled from 'styled-components'\n\nconst Img = styled.img`\n  height: 100px;\n  object-fit: contain;\n  border: 1px solid #eee;\n`\n\nconst ComponentList = observer(() => {\n  const { HistoryStore } = useStores()\n\n  const loadMore = () => {\n    HistoryStore.find()\n  }\n  useEffect(() => {\n    // 卸载时调用\n    return () => {\n      HistoryStore.reset()\n    }\n  }, [])\n  return (\n    <div>\n      <InfiniteScroll\n        initialLoad={true}\n        pageStart={0}\n        loadMore={loadMore}\n        hasMore={!HistoryStore.isLoading && HistoryStore.hasMore}\n        useWindow={true}\n      >\n        <List\n          dataSource={HistoryStore.list}\n          renderItem={item => (\n            <List.Item key={item.id}>\n              <Descriptions>\n                <Descriptions.Item label=\"图片\"><Img src={item.attributes.url.attributes.url} alt=\"\" /></Descriptions.Item>\n                <Descriptions.Item label=\"图片名称\">{item.attributes.filename}</Descriptions.Item>\n                <Descriptions.Item label=\"线上地址\"><a target=\"_blank\" href={item.attributes.url.attributes.url}>{item.attributes.url.attributes.url}</a></Descriptions.Item>\n              </Descriptions>\n            </List.Item>\n          )}\n        >\n          {\n            HistoryStore.isLoading && HistoryStore.hasMore && (\n              <div>\n                <Spin tip=\"加载中\" />\n              </div>\n            )\n          }\n        </List>\n      </InfiniteScroll>\n    </div>\n  )\n})\n\nexport default ComponentList","/Users/maolu/Desktop/react-epic/src/components/Tips.js",[],"/Users/maolu/Desktop/react-epic/src/stores/image.js",[],"/Users/maolu/Desktop/react-epic/src/stores/history.js",[],{"ruleId":"93","replacedBy":"94"},{"ruleId":"95","replacedBy":"96"},{"ruleId":"97","severity":1,"message":"98","line":1,"column":8,"nodeType":"99","messageId":"100","endLine":1,"endColumn":13},{"ruleId":"101","severity":1,"message":"102","line":106,"column":54,"nodeType":"103","endLine":106,"endColumn":132},{"ruleId":"101","severity":1,"message":"102","line":114,"column":15,"nodeType":"103","endLine":114,"endColumn":62},{"ruleId":"104","severity":1,"message":"105","line":25,"column":6,"nodeType":"106","endLine":25,"endColumn":8,"suggestions":"107"},{"ruleId":"101","severity":1,"message":"102","line":42,"column":49,"nodeType":"103","endLine":42,"endColumn":110},"no-native-reassign",["108"],"no-negated-in-lhs",["109"],"no-unused-vars","'React' is defined but never used.","Identifier","unusedVar","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXOpeningElement","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'HistoryStore'. Either include it or remove the dependency array.","ArrayExpression",["110"],"no-global-assign","no-unsafe-negation",{"desc":"111","fix":"112"},"Update the dependencies array to be: [HistoryStore]",{"range":"113","text":"114"},[596,598],"[HistoryStore]"]